(()=>{"use strict";var e={957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleFuzzyResult=t.updateSelection=void 0;const r=n(999),a=n(598);let s;function c(e){let t=window.getSelection().toString()||e||s;t=t?.trim(),s!==t&&(s=t,s?(r.parent.classList.remove("outerFade"),a.send(s)):r.parent.classList.add("outerFade"))}chrome.runtime.onMessage.addListener(((e,t,n)=>{!async function(e){await a.send({search:e})}(e),n(!0)})),r.createElement(),document.onmousemove=e=>{r.parent.style.left=e.x+40+"px",r.parent.style.top=e.y+30+"px",c(function(e){const t=document.elementFromPoint(e.clientX,e.clientY),n=t?.tagName;if("P"===n||"SPAN"===n||"PRE"===n)return t?.innerText}(e))},t.updateSelection=c;let o=[];t.handleFuzzyResult=function(e=o){o=e;let t=e.filter((e=>a.cache[e]));t.length?(r.cards.forEach(((e,n)=>{e.style.opacity=t[n]?"1":"0"})),t.forEach(((e,t)=>{const n=a.cache[e],s=r.cards[t],c=s.firstElementChild,o=s.lastElementChild;c.innerText=n.word,o.innerText=n.definition})),r.parent.classList.remove("fade")):r.parent.classList.add("fade")}},999:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=t.cards=t.parent=void 0;const r=n(882);t.cards=[],t.createElement=async function(){t.parent=document.body.appendChild(document.createElement("div")),t.parent.classList.add("limeLightParent","fade","outerFade");const e=await r.getString("mouseover.html");for(let n=0;n<3;n++){const n=document.createElement("div");n.innerHTML=e;let r=n.firstElementChild;const a=r;t.parent.appendChild(r),t.cards.push(a)}}},598:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.send=t.cache=void 0;const r=n(957);let a=s();function s(){return new Promise((e=>{const n=new WebSocket("wss://quizlet-assist-server.herokuapp.com");n.onopen=function(){e(n)},n.onmessage=function(e){const n=e.data,a=JSON.parse(n);if(Array.isArray(a))!function(e){let n=e.filter((e=>!t.cache[e]));n.length&&c({cards:n})}(a),r.handleFuzzyResult(a);else if("setId"in a){let e=a.setId;chrome.runtime.sendMessage({scrape:e},(t=>c({[e]:t})))}else if("cards"in a){for(const e of a.cards)t.cache[e.id]=e;r.handleFuzzyResult()}}}))}async function c(e){(await a).readyState!=WebSocket.OPEN&&(a=s()),(await a).send(JSON.stringify(e))}t.cache={},t.send=c},882:(e,t)=>{async function n(e){return(await fetch(e)).text()}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchString=t.getString=t.lerpColor=void 0,t.lerpColor=function(e,t,n){const r=parseInt(e.replace(/#/g,""),16),a=r>>16,s=r>>8&255,c=255&r,o=parseInt(t.replace(/#/g,""),16);return"#"+((1<<24)+(a+n*((o>>16)-a)<<16)+(s+n*((o>>8&255)-s)<<8)+(c+n*((255&o)-c))|0).toString(16).slice(1)},t.getString=async function(e){return n(chrome.runtime.getURL(e))},t.fetchString=n}},t={};!function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(957)})();